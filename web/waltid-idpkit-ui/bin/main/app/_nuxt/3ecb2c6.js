(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{565:function(t,n,e){var content=e(839);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,e(90).default)("1d5dde90",content,!0,{sourceMap:!1})},576:function(t,n){},620:function(t,n){},622:function(t,n){},644:function(t,n){},646:function(t,n){},658:function(t,n){},659:function(t,n){},683:function(t,n){},686:function(t,n){},688:function(t,n){},794:function(t,n){},832:function(t,n){},834:function(t,n){},838:function(t,n,e){"use strict";e(565)},839:function(t,n,e){var o=e(89)((function(i){return i[1]}));o.push([t.i,".menu-link{color:#fff}",""]),o.locals={},t.exports=o},856:function(t,n,e){"use strict";e.r(n);var o=e(33),c=(e(91),e(14),e(1),e(35),e(570)),r=e.n(c),l=e(849),d=e(846),w=e(847),f=e(395),h=e(848),v={walletconnect:{package:l.a,options:{rpc:{4:"https://rinkeby.infura.io/v3/"},chainId:4}}},m=new w.a({name:"Walt.id"}),y={name:"ConnectWallet",data:function(){return{eth_account:null}},methods:{web3modal:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var e,o,c,l,w,f,h,m,y,x,_,C;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=new r.a({cacheProvider:!1,providerOptions:v}),n.next=3,e.connect();case 3:return o=n.sent,c=new d.a.providers.Web3Provider(o),n.prev=5,l=t.$route.query.redirect_uri,w=t.$route.query.session,f=t.$route.query.nonce,h=c.getSigner(),n.next=12,h.getAddress();case 12:return m=n.sent,"Sign in with Ethereum to the app.",y=window.location.origin,x=window.location.host,_="".concat(x," wants you to sign in with your Ethereum account:\n").concat(m,"\n").concat("Sign in with Ethereum to the app.","\nURI: ").concat(y,"\nVersion: 1\nChain ID: 1\nNonce: ").concat(f),n.prev=17,n.next=20,h.signMessage(_);case 20:C=n.sent,n.next=27;break;case 23:return n.prev=23,n.t0=n.catch(17),t.catchSigningError(n.t0),n.abrupt("return",!1);case 27:window.location="".concat(l,"?session=").concat(w,"&chain=EVM&message=").concat(encodeURIComponent(_),"&signature=").concat(C),n.next=35;break;case 30:n.prev=30,n.t1=n.catch(5),console.log(n.t1.response.data),t.error=!0,t.errorMessage=n.t1.response.data.title;case 35:case"end":return n.stop()}}),n,null,[[5,30],[17,23]])})))()},beaconTezosWallet:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var e,o,c,r,l,d,w,v,y,x,_,C,k;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,e=t.$route.query.redirect_uri,o=t.$route.query.session,c=t.$route.query.nonce,n.next=6,m.client.requestPermissions();case 6:return r=n.sent,t.tezos_account=r.address,l=window.location.origin,d=window.location.host,w=(new Date).toISOString(),"Sign in with Tezos to the app.",v="".concat(d," wants you to sign in with your Tezos account: ").concat(r.address,". Public Key: ").concat(r.publicKey,".Date: ").concat(w,". ").concat("Sign in with Tezos to the app."," URI: ").concat(l,". Version: 1. Nonce: ").concat(c),y=Object(f.p)(v),x="050100"+Object(f.p)(y.length.toString())+y,_={signingType:h.a.MICHELINE,payload:x,sourceAddress:t.tezos_account},n.next=18,m.client.requestSignPayload(_);case 18:C=n.sent,k=C.signature,window.location="".concat(e,"?session=").concat(o,"&chain=Tezos&message=").concat(v,"&signature=").concat(k),n.next=26;break;case 23:n.prev=23,n.t0=n.catch(0),console.log("Got error:",n.t0);case 26:case"end":return n.stop()}}),n,null,[[0,23]])})))()}}},x=(e(838),e(68)),component=Object(x.a)(y,(function(){var t=this,n=t._self._c;return n("div",{staticClass:"d-flex justify-content-center text-white vh-100 vw-100"},[n("div",{staticClass:"my-auto"},[n("div",{staticClass:"text-white h1"},[t._v("walt.id IDP Kit")]),t._v(" "),n("div",{staticClass:"text-center"},[n("button",{staticClass:"btn btn-success",on:{click:t.web3modal}},[t._v("Connect wallet")])]),t._v(" "),n("div",{staticClass:"text-center"},[n("br"),t._v(" "),n("button",{staticClass:"btn btn-success",on:{click:t.beaconTezosWallet}},[t._v("Connect wallet(Tezos)")])])])])}),[],!1,null,null,null);n.default=component.exports}}]);